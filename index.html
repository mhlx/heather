<!DOCTYPE html>
<html lang="zh-CN">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="description" content="Heather is an online Markdown Editor">
<meta name="keywords" content="Markdown, Heather, Editor, CodeMirror, Github, Open Source">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<style>
.CodeMirror {
font-size: 16px;
}
</style>
</head>
<body>


<link rel="stylesheet" href="highlight/styles/github.css">
<link rel="stylesheet" href="codemirror/lib/codemirror.css">
<link rel="stylesheet" href="codemirror/addon/dialog/dialog.css">
<link rel="stylesheet" href="codemirror/addon/display/fullscreen.css">
<link rel="stylesheet" href="css/markdown.css">
<link rel="stylesheet" href="fontawesome-free/css/all.min.css">
<link rel="stylesheet" href="css/style.css">

<div style="padding:15%">
<button id="sync_preview_btn">同步预览</button>
<textarea id="editor" style="display:none"></textarea></div>
<script src="codemirror/lib/codemirror.js"></script>
<script src="codemirror//addon/mode/overlay.js"></script>
<script src="codemirror/mode/markdown/markdown.js"></script>
<script src="codemirror/mode/gfm/gfm.js"></script>
<script src="codemirror/addon/selection/mark-selection.js"></script>
<script src="codemirror/addon/selection/active-line.js"></script>
<script src="codemirror/addon/edit/continuelist.js"></script>
<script src="codemirror/addon/dialog/dialog.js"></script>
<script src="codemirror/addon/search/searchcursor.js"></script>
<script src="codemirror/addon/search/search.js"></script>
<script src="codemirror/addon/search/jump-to-line.js"></script>
<script src="codemirror/addon/display/fullscreen.js"></script>
<script src="highlight/highlight.pack.js"></script>
<script src="js/markdown-it.min.js"></script>
<script src="js/markdown-it-task-lists.min.js"></script>
<script src="js/markdown-it-katex.min.js"></script>
<script src="js/morphdom-umd.min.js"></script>
<script src="js/heather.js"></script>
<script>
		var config = {
			upload:{
				url:'https://putsreq.com/aPamE6UIaFogo0JwhL6N',
				uploadFinish:function(resp){
					return {
						type : 'video',
						url : 'https://www.qyh.me/video2/news/FEE39819-FF07-45DD-8D8D-D85DE04DB7DC.mov',
						poster:'https://www.qyh.me/video2/news/FEE39819-FF07-45DD-8D8D-D85DE04DB7DC.mov/960'
					};
				},
				beforeUpload:function(upload,file){
					upload.start();
				}
			}
		};
		
		
		var heather = Heather.create(document.getElementById("editor"),config);
		heather.setFullscreen(true);
		
		var toolbar = heather.getToolbar();
		toolbar.addIcon('fa fa-expand heather_icon',function(elem){
			heather.setFullscreen(!heather.isFullscreen());
		});
		toolbar.addIcon('fas fa-eye heather_icon', function() {
			heather.setPreview(true);
		});
		
		document.getElementById('sync_preview_btn').addEventListener('click',function(){
			heather.setSyncView(true);
		})
		
		var selectionHelperOpen = false;
		heather.on('selectionHelperChange',function(sc){
			selectionHelperOpen = sc;
		});
		
		
		
		if(Heather.Util.mobile){
			toolbar.addIcon('fas fa-arrows-alt heather_icon', function() {
				if(!selectionHelperOpen){
					heather.openSelectionHelper();
				} else {
					heather.closeSelectionHelper();
				}
			});
		}
		
	//	heather.setSyncView(true);
		
</script>
</body>
</html>